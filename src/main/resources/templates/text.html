<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>収納一覧画面</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../static/back&completion.css">
    <link rel="stylesheet" href="../static/list.css">
</head>
<body>

<div class="header">
    <!-- 戻るボタン -->
    <button class="left-button" onclick="history.back()"><span class="material-icons">arrow_back_ios_new</span></button>
    <a href="home.html" class="title-button">No Name</a>
    <a class="right_area"> </a>
</div>

<!-- 検索ボックス -->
<div class="search-container">
    <input type="text" id="searchInput" class="search-input" placeholder="検索..." oninput="filterItems()">
</div>

<!-- メインコンテンツエリア -->
<div class="list_header">
    <div class="cp_ipselect06">
        <select class="cp_sl06" required>
            <option value="1" selected>洋服</option>
            <option value="2">収納</option>
            <option value="3">タグ</option>
        </select>
        <span class="cp_sl06_selectbar"></span>
    </div>
    <div class="icons">
        <span class="material-icons">swap_vert</span>
        <span class="material-icons">delete</span>
    </div>
</div>

<!-- 収納アイテムのリスト -->
<div class="main-content" id="itemsList">
    <!-- アイテムはここに動的に表示されます -->
</div>

<script src="../static/templete_script.js"></script>
<script src="../static/storage_list.js"></script>
<script>
    // 収納アイテムのデータ
    const items = [
        {
            id: 1,
            name: "クローゼット",
            location: "リビング",
            tags: ["収納", "洋服"]
        },
        {
            id: 2,
            name: "タンス",
            location: "寝室",
            tags: ["収納"]
        },
        {
            id: 3,
            name: "収納袋",
            location: "倉庫",
            tags: ["収納", "布"]
        }
    ];

    // アイテムをHTMLに表示する関数
    function displayItems(filteredItems) {
        const itemsListContainer = document.getElementById('itemsList');
        itemsListContainer.innerHTML = ''; // 既存のリストをクリア

        // フィルタリングされたアイテムをリストとして表示
        filteredItems.forEach(item => {
            const itemDiv = document.createElement('div');
            itemDiv.classList.add('clothse_button');
            itemDiv.innerHTML = `
                <a href="item_detail.html?id=${item.id}" class="detail_url">
                    <figure class="clothes_img">
                        <img src="../img/clothes.png" alt="${item.name}">
                        <div class="detail">
                            <br>名前: ${item.name}</br>
                            <br>収納場所: ${item.location}</br>
                            <br>タグ: ${item.tags.join(', ')}</br>
                        </div>
                    </figure>
                </a>
            `;
            itemsListContainer.appendChild(itemDiv);
        });
    }

    // 検索フィルタリング処理
    function filterItems() {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase(); // 検索ワードを小文字に変換
        const filteredItems = items.filter(item => {
            return item.name.toLowerCase().includes(searchTerm) || // 名前に一致
                   item.location.toLowerCase().includes(searchTerm) || // 収納場所に一致
                   item.tags.some(tag => tag.toLowerCase().includes(searchTerm)); // タグに一致
        });

        // フィルタリングされたアイテムを表示
        displayItems(filteredItems);
    }

    // 初期表示（全アイテムを表示）
    displayItems(items);
</script>

</body>
</html>
